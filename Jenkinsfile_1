pipeline {
	agent any
  tools {nodejs "node"}
	
	stages {
		
		stage('Cloning Git') {
			steps {
				git 'https://github.com/the1amit/node-todo-frontend.git'
      }
    }
	
		stage('Install dependencies') {
			steps {
				sh 'npm install'
			}
		}
	
		stage('Test') {
			steps {
				sh 'npm test'
			}
		}

		stage ('Archive Artifacts') {
			steps {
				archiveArtifacts artifacts: 'src/*.js'
			}
		}

		stage ('Notification'){
			steps {
				mail bcc: '', body: 'Successful Build!!!', cc: '', from: '', replyTo: '', subject: 'NodeJS Build', to: 'the_amit@live.com'
			}
		}
	
	}
}
